{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 62b95a6d2e7c6452aa97","webpack:///./src/index.js","webpack:///./src/core/index.ts","webpack:///./src/core/svg.ts","webpack:///./src/lib/interface.ts"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_IMPORTED_MODULE_0__core___","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__lib_interface__","id","[object Object]","config","filterId","Date","getTime","update","getPoint","getSVG","end","x","width","y","between","b1","b2","margin","radius","Math","sqrt","height","start","path","pathDom","document","createElementNS","svgDom","filterDom","setAttribute","color","border","shadow","getFilter","appendChild","direction","className","triangle","defs","__WEBPACK_IMPORTED_MODULE_0__core_svg__","filter","feOffset","result","in","dx","offsetX","dy","offsetY","feColorMatric","values","opacity","feGaussianBlur","stdDeviation","blur","feBlend","in2","mode","tag","iKey","dom","keys","dirEnum","down","assign"],"mappings":"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","file":"triangle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"triangle\"] = factory();\n\telse\n\t\troot[\"triangle\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 62b95a6d2e7c6452aa97","/**\n * @desc entry\n */\n\nimport core from '@/core/';\n\nexport default core;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * @desc triangle module\n */\n\nimport svg from '@/core/svg';\nimport { Config, IConfig, IPoint } from '@/lib/interface';\n\nlet id: number = 0;\n\nexport default class Triangle {\n    public triangle: SVGSVGElement;\n    private config: IConfig;\n\n    private start: IPoint;\n    private between: IPoint;\n    private b1: IPoint;\n    private b2: IPoint;\n    private end: IPoint;\n\n    private filterId: string;\n\n    constructor(config: IConfig) {\n        // this.config = new Config(config);\n        this.filterId = `data-filter-id${new Date().getTime()}-${id}`;\n        id = id + 1;\n\n        this.update(config);\n    }\n\n    public update(config?: IConfig): void {\n        if (config) {\n            this.config = new Config(config);\n        }\n        this.getPoint();\n        this.getSVG();\n    }\n\n    private getPoint(): void {\n        const start: IPoint = {\n            x: 0,\n            y: 0,\n        };\n        const end: IPoint = {\n            x: this.config.width,\n            y: 0,\n        };\n        let between!: IPoint;\n        let b1!: IPoint;\n        let b2!: IPoint;\n        const margin: number = this.config.radius / Math.sqrt(2);\n\n        between = {\n            x: this.config.width / 2,\n            y: this.config.height,\n        };\n        b1 = {\n            x: this.config.width / 2 - margin,\n            y: this.config.height - margin,\n        };\n        b2 = {\n            x: this.config.width / 2 + margin,\n            y: this.config.height - margin,\n        };\n\n        this.start = start;\n        this.b1 = b1;\n        this.b2 = b2;\n        this.between = between;\n        this.end = end;\n    }\n\n    private getSVG(): void {\n        const path: string = `M ${this.start.x} ${this.start.y} L ${\n            this.b1.x\n        } ${this.b1.y} A ${this.config.radius} ${this.config.radius} 0 0 0 ${\n            this.b2.x\n        } ${this.b2.y} L ${this.end.x} ${this.end.y}`;\n\n        // tslint:disable no-http-string\n        const pathDom: SVGPathElement = document.createElementNS(\n            'http://www.w3.org/2000/svg',\n            'path',\n        );\n        const svgDom: SVGSVGElement = document.createElementNS(\n            'http://www.w3.org/2000/svg',\n            'svg',\n        );\n        let filterDom!: SVGElement;\n        // tslint:enable no-http-string\n\n        pathDom.setAttribute('d', path);\n        pathDom.setAttribute('fill', this.config.color);\n        svgDom.setAttribute(\n            'height',\n            `${this.between.y > 0 ? this.between.y : -this.between.y}px`,\n        );\n        svgDom.setAttribute('width', `${this.end.x}px`);\n        svgDom.setAttribute('fill', 'transparent');\n        svgDom.setAttribute('version', '1.1');\n\n        if (this.config.border) {\n            pathDom.setAttribute('stroke-width', '1');\n            pathDom.setAttribute('stroke', this.config.border);\n        }\n\n        if (this.config.shadow) {\n            filterDom = this.getFilter();\n            svgDom.appendChild(filterDom);\n            svgDom.setAttribute('filter', `url(#${this.filterId})`);\n        }\n\n        if (this.config.direction === 'up') {\n            svgDom.setAttribute('transform', 'rotate(180)');\n        } else if (this.config.direction === 'right') {\n            svgDom.setAttribute('transform', 'rotate(270)');\n        } else if (this.config.direction === 'left') {\n            svgDom.setAttribute('transform', 'rotate(90)');\n        }\n\n        if (this.config.className) {\n            svgDom.setAttribute('class', this.config.className);\n        }\n        svgDom.appendChild(pathDom);\n\n        this.triangle = svgDom;\n    }\n\n    private getFilter(): SVGElement {\n        const defs: SVGElement = svg('defs');\n        const filter: SVGElement = svg('filter', {\n            id: this.filterId,\n            x: '0',\n            y: '0',\n            width: '200%',\n            height: '200%',\n        });\n        const feOffset: SVGElement = svg('feOffset', {\n            result: 'offOut',\n            in: 'SourceAlpha',\n            dx: `${this.config.shadow.offsetX}`,\n            dy: `${this.config.shadow.offsetY}`,\n        });\n        const feColorMatric: SVGElement = svg('feColorMatrix', {\n            in: 'offOut',\n            result: 'matrixOut',\n            values:\n                '0 0 0 0 0 ' +\n                '0 0 0 0 0 ' +\n                '0 0 0 0 0 ' +\n                `0 0 0 ${this.config.shadow.opacity} 0`,\n        });\n        const feGaussianBlur: SVGElement = svg('feGaussianBlur', {\n            result: 'blurOUt',\n            in: 'matrixOut',\n            stdDeviation: `${this.config.shadow.blur}`,\n        });\n        const feBlend: SVGElement = svg('feBlend', {\n            in: 'SourceGraphic',\n            in2: 'blurOut',\n            mode: 'normal',\n        });\n\n        filter.appendChild(feOffset);\n        filter.appendChild(feColorMatric);\n        filter.appendChild(feGaussianBlur);\n        filter.appendChild(feBlend);\n        defs.appendChild(filter);\n\n        return defs;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/index.ts","/**\n * @desc svg generator function\n */\n\ninterface IKey {\n    [key: string]: string;\n}\nexport default (tag: string, iKey: IKey = {}): SVGElement => {\n    // tslint:disable no-http-string\n    const dom: SVGElement = document.createElementNS(\n        'http://www.w3.org/2000/svg',\n        tag,\n    );\n    // tslint:enable no-http-string\n    const keys: string[] = Object.keys(iKey);\n\n    for (const i of keys) {\n        dom.setAttribute(i, iKey[i]);\n    }\n\n    return dom;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/svg.ts","/**\n * @desc interface collection\n */\n\n// TODO 有没有好一点的实现方式赋默认值\n\nexport interface Ishadow {\n    offsetX?: number | string;\n    offsetY?: number | string;\n    blur?: number | string;\n    spread?: number | string;\n    opacity?: number | string;\n}\nexport class Config {\n    public width: number = 10;\n    public height: number = 10;\n    public direction: dirEnum = dirEnum.down;\n    public radius: number = 5;\n    public color: string = 'black';\n    public border: string;\n    public shadow: Ishadow = {};\n    public className: string;\n\n    constructor(config: IConfig) {\n        Object.assign(this, config);\n        this.shadow = {\n            offsetX: this.shadow.offsetX || 0,\n            offsetY: this.shadow.offsetY || 2,\n            blur: this.shadow.blur || 4,\n            opacity: this.shadow.opacity || 0.2,\n        };\n    }\n}\n\nexport enum dirEnum {\n    down = 'down',\n    up = 'up',\n    left = 'left',\n    right = 'right',\n}\n\nexport interface IConfig {\n    width?: number;\n    height?: number;\n    direction?: dirEnum;\n    radius?: number;\n    color?: string;\n    border?: string;\n    shadow?: Ishadow;\n    className?: string;\n}\n\nexport interface IPoint {\n    x: number;\n    y: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interface.ts"],"sourceRoot":""}